<script>
    function startCountdown() {
        const endDate = new Date("December 31, 2025 23:59:59").getTime();
        const countdownElement = document.getElementById("countdown");
        if (!countdownElement) {
            console.log("Countdown element not found!");
            return;
        }
        const interval = setInterval(() => {
            const now = new Date().getTime();
            const timeLeft = endDate - now;
            if (timeLeft <= 0) {
                countdownElement.innerHTML = "Presale has ended!";
                clearInterval(interval);
                return;
            }
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);
            countdownElement.innerHTML = `Time left: ${days}d ${hours}h ${minutes}m ${seconds}s`;
        }, 1000);
    }

    function createMoney() {
        if (document.querySelectorAll('.money').length >= 10) return;
        const money = document.createElement("img");
        money.classList.add("money");
        money.src = "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f6/Euro_banknotes.png/320px-Euro_banknotes.png";
        money.style.left = `${Math.random() * (window.innerWidth - 50)}px`;
        money.style.animationDuration = `${Math.random() * 3 + 2}s`;
        document.body.appendChild(money);
        money.addEventListener('animationend', () => money.remove());
    }

    function copyAddress() {
        const address = document.getElementById("walletAddress").innerText;
        navigator.clipboard.writeText(address).then(() => {
            alert("Address copied to clipboard!");
        });
    }

    window.onload = function() {
        startCountdown();
        const timelineItems = document.querySelectorAll('.timeline-item');
        timelineItems.forEach((item, index) => {
            setTimeout(() => {
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, index * 300);
        });
        setInterval(createMoney, 2000);

        // Информационен бокс
        let infoBox = document.createElement("div");
        infoBox.id = "timelineInfo";
        infoBox.style.cssText = "position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #007bff; color: white; padding: 10px 20px; border-radius: 5px; display: none;";
        document.body.appendChild(infoBox);

        // Интерактивен таймлайн
        const timelineSpans = document.querySelectorAll('.timeline-item span');
        if (timelineSpans.length === 0) {
            console.log("Timeline spans not found!");
        } else {
            timelineSpans.forEach(span => {
                span.addEventListener('click', function() {
                    const info = {
                        presale: "Presale starts now and ends on Dec 31, 2025.",
                        liquidity: "Liquidity pool will be locked after presale.",
                        transfers: "Transfers unlock after liquidity is added.",
                        voting: "Vote for charities starting Jan 2026."
                    };
                    const id = this.parentElement.id;
                    if (info[id]) {
                        infoBox.textContent = info[id];
                        infoBox.style.display = "block";
                        setTimeout(() => {
                            infoBox.style.display = "none";
                        }, 3000);
                    } else {
                        console.log("No info for ID:", id);
                    }
                });
            });
        }

        document.getElementById("subscribeForm").addEventListener("submit", function(e) {
            e.preventDefault();
            document.getElementById("subscribeMessage").style.display = "block";
            this.reset();
            setTimeout(() => {
                document.getElementById("subscribeMessage").style.display = "none";
            }, 3000);
        });
    };
</script>
